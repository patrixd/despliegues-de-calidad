<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/main.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style type="text/css">
			.gallery-container .current-visible:not(.current-fragment) {
			    display: none !important;
			}
			.invisible {
				opacity: 0;
    			visibility: hidden;
			}
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">				
				<section data-state="animated-clouds"><p>&nbsp;</p><p>&nbsp;</p>
					<h2 id="no-es-s-lo-texto-y-enlaces">Despliega código en la nube de forma Ágil</h2>
					<h3 id="la-web-no-tiene-l-mites">Buenas prácticas y Herramientas</h3>
                    <a href="https://github.com/patrixd/despliega-con-calidad" target="_blank">
                        <img src="img/github_cat.png" alt="github image">
                    </a>
				</section>
				<section data-background="img/foto2.jpg">
					<div class="row">
						<div class="hello col-sm-10">
							<div class="name">
								Patricia Juárez Muñoz
							</div>
							<div class="category text-faded">
							    Ingeniera Software Senior<br>
								<a href="http://develagora.com" target="_blank" class="develagora" alt="Develagora">&nbsp;</a>&nbsp;&nbsp;
	                            <a href="https://twitter.com/ccsakuweb" target="_blank" class="twitter" alt="Follow me on Twitter!">&nbsp;</a>&nbsp;&nbsp;
								<a href="http://www.linkedin.com/in/patriciajuarezmunoz" target="_blank" class="linkedin" alt="Contact me on Linkedin!">&nbsp;</a>
							</div>
							<hr class="light">
							<p class="text-faded">
							    Licenciada en Ingeniería Informática en la Universidad de Granada (España). <br>
							    Experta en el desarrollo de aplicaciones web y móviles.<br><br>
							    2007-2016 Freelance en empresas como 3DVista y Axesor.<br>
							    2016-Actualidad Senior Software Engineer en Badger Maps.
							</p>
						</div>
					</div>
				</section>
				<section data-state="badger-sky">
					<img src="img/badger-logo2.png" alt="badger logo" />
					<p>Startup californiana, con sede en San Francisco y centro de desarrollo en Granada.</p>
					<p>Patrocinadores de la Oficina de Software Libre.</p>
					<img src="img/devices.png" alt="badger maps">
					<aside class="notes">
					- Desarrollamos la mejor aplicación para representantes de ventas. <br>
					- El objetivo de la charla es mostraros los procesos que empleamos en Badger que nos permiten desplegar software de calidad de forma continua.<br>
					</aside>
				</section>
				<section data-state="devops-sky">
					<section>
						<h2>
							DevOps
						</h2>
						<p>Metodología de creación de software</p>
						<aside class="notes">
							Metodología de creación de software. Que sirve para agilizar el desarrollo.
							Desde las pruebas de concepto hasta el lanzamiento, pasando por el testeo en entornos de prueba.
							Todos los pasos requieren de la máxima agilidad posible,
							y para ello hace falta integrar los procesos de desarrollo con los sistemas.
						</aside>
					</section>
					<section>
						<h3>
							DevOps
						</h3>
						<img src="img/lifecicle.png"/>
						<aside class="notes">
							El acrónimo DevOps indica la colaboración entre las personas que
							participan en el desarrollo del producto con administradores de sistemas,
							ingenieros de operaciones, de seguridad, etc.
							Todos ellos participan juntos en el ciclo de vida del software, desde el
							diseño, pasando por el desarrollo hasta el soporte del producto.
							No trata sólo de tecnología sino que está enfocado en las personas y procesos,
							en la colaboración y comunicación a través de la organización.
						</aside>
					</section>
					<section>
						<h3>
							DevOps
						</h3>
						<ul>
							<li>Automatización de tareas</li>
							<li>Preparación de entornos de desarrollo, pruebas y producción</li>
							<li>Provee herramientas para realizar despliegues a los entornos</li>
							<li>Gestiona las distintas configuraciones de los servidores</li>
						</ul>
						<aside class="notes">
							Las tareas más básicas de un devops son: ...
							El entorno de producción es público a todos los clientes, el de pruebas permite a los testers o
							resto de la compañía probar los cambios antes de desplegarlos en producción.
							Respecto al entorno de desarrollo, se suelen utilizar máquinas virtuales que permiten a los
							desarrolladores tener las mismas configuraciones en sus equipos.
						</aside>
					</section>
					<section>
						<h3>
							DevOps
						</h3>
						<p>Ventajas</p>
						<ul>
							<li>Se fabrica software más rápidamente</li>
							<li>Software es de mayor calidad</li>
							<li>Menor coste</li>
							<li>Frecuencia de despliegues muy alta</li>
							<li>Menos preocupaciones</li>
						</ul>
						<aside class="notes">
							Frecuencia de despliegues muy alta porque hay menos preocupaciones.
							Se tiene un sistema ágil, sólido y de confianza.

							...En Badger estamos trabajando en mejorar nuestros procesos de forma continua.
							Trabajamos en equipos con desarrolladores, testers e ingenieros centrados en
							automatización para mejorar las tareas del resto de empleados de la organización.
						</aside>
					</section>
					<section>
						<h3>
							DevOps
						</h3>
						<img src="img/culture.png" class="devops-culture-img"/>
						<aside class="notes">
							DevOps requiere un cambio cultural hacia la colaboración, la comunicación, y
							la completa integración entre las antiguas áreas de desarrollo y sistemas.
							Un equipo devops necesita una cultura donde
							- Cambios son positivos
							- Haya transparencia, se recompensen las buenas actitudes
							- La base es la innovación
							- Todo el equipo es responsable, sin culpar a otros, donde se abracen los fallos
							- Confianza
							- Colaboración, se hable con honestidad y franqueza
							- Buena Comunicación
						</aside>
					</section>
				</section>
				<section>
					<h2>Por donde empezar...</h2>
					<p>con qué herramientas...</p>
					<aside class="notes">
						Ya conocemos la metodología de desarrollo DevOps,
						pero ¿por donde empezamos para poder desplegar código de calidad?
					</aside>
				</section>
				<section data-state="entornos-sky">
					<section>
						<h3>Entornos de Desarrollo</h3>
						<h4>Sistemas de Virtualización</h4>
						<img src="img/docker-vagrant.png">
						<aside class="notes"> 
							Como Vagrant y Docker, ambos son código abierto y multiplataforma.
						</aside>
					</section>
					<section>
						<h3>Sistemas de Virtualización</h3>
						<h4>Ventajas</h4>
						<ul>
							<li>Misma configuración para todos los desarrolladores</li>
							<li>Independiente del Sistema Operativo</li>
							<li>Semejante a los entornos de Test y Producción</li>
							<li>Facilita trabajar con distintos proyectos</li>
						</ul>
						<aside class="notes">
							Cuando se desarrolla en equipo, es muy importante que todos tengan el mismo entorno de desarrollo en sus máquinas locales. El mismo Sistema Operativo, las mismas versiones de las librerías... 
							Para evitar incompatibilidades durante el desarrollo. También es muy importante que los entornos sean lo más semejantes posibles a la máquina de producción para evitar problemas cuando se despliegue el código.
 							Además en la actualidad es muy común trabajar en distintas tecnologías aún trabajando para la misma empresa. 

 							Para daros un ejemplo, en Badger trabajamos en Python, NodeJS y C#, en los servidores Heroku, Amazon y Azure. Y tan sólo tenemos un archivo de configuración para cada proyecto. Cuando necesitamos trabajar en un proyecto encendemos el entorno, si necesitamos trabajar en otro, encendemos el otro entorno.
						</aside>
					</section>
					<section>
						<a href="https://www.vagrantup.com/" target="_blank">
							<img src="img/vagrant-logo.png">
						</a>
						<a href="https://github.com/mitchellh/vagrant" target="_blank" class="repo">
							<img src="img/github.png">
						</a>
						<p>Gestor de máquinas virtuales</p>

						<aside class="notes">
							En Badger usamos Vagrant.
							Un Gestor de máquinas virtuales. Permite manejar varias máquinas virtuales.
							El archivo de configuración Vagrantfile indica el proveedor (la máquina virtual como VirtualBox, VMWare, o incluso Docker), la configuración de la máquina virtual, más el código que aprovisiona a esta. 
							Por ejemplo, se instalaría las dependencias, en Python se usa pip y se escriben en requirements.txt.
							En el repositorio de esta presentación podéis ver un ejemplo de Vagrantfile.

							Si clicais en el icono podéis acceder a un tutorial que explica cómo instalarlo.
							https://styde.net/como-crear-un-entorno-de-desarrollo-virtual-con-vagrant/
							Y las diferencias que tiene con Docker
							http://www.miguelvilata.com/blog/docker-vs-vagrant-en-la-gestin-de-entornos-de-desarrollo
						</aside>
					</section>
					<section>
						<h3>Vagrant Box</h3>
						<a href="http://www.vagrantbox.es/" target="_blank">
							<img src="img/vagrantbox.png">
						</a>
						<aside class="notes">
							Una vez instalada la máquina virtual y vagrant procederíamos a buscar el 
							entorno adecuado para la aplicación.
						</aside>
					</section>
					<section>
						<h4>Ejecución con Vagrant</h4>
						<div class="row">
							<div class="col-sm-10 col-sm-offset-2">
								<a href="https://github.com/patrixd/despliegues-de-calidad" target="_blank">
									<img src="img/vagrantfile.png">
								</a>
							</div>
							<div class="col-sm-4 vagrant-command">
								<pre class="html-preview-code">
									<code class="hljs bash">
vagrant up
vagrant ssh
									</code>
								</pre>
							</div>
						</div>						
					</section>
					<section>
						<a href="https://www.docker.com/" target="_blank">
							<img src="img/docker-logo.png" class="docker-img">
						</a>
						<a href="https://github.com/docker/docker" target="_blank" class="docker-repo repo">
							<img src="img/github.png">
						</a>
						<p>Linux + Contenedores</p>
						<aside class="notes">
							A diferencia de Vagrant, Docker no pretente emular un sistema operativo completo, 
							se basa en contenedores, permitiendoles compartir recursos entre varias aplicaciones.
							En Docker solo se pueden ejecutar directamente aplicaciones basadas en linux.
							Funciona nativamente en linux pero para hacerlo funcionar en Mac y Windows hace uso de una máquina virtual.
							Al no ser un entorno totalmente independiente, es más rápido trabajar con Docker que con Vagrant.
							Tutorial:
							https://docs.docker.com/engine/getstarted/step_one/
						</aside>
					</section>
					<section>
						<h3>Docker Store</h3>
						<a href="https://store.docker.com/" target="_blank">
							<img src="img/docker-store.png">
						</a>
						<aside class="notes">
							El requisito mínimo para ejecutar el entorno de desarrollo con Docker es instalar Docker Composer.
							Una vez instalado pasaríamos a buscar la imagen adecuada para nuestro proyecto.
						</aside>
					</section>
					<section>
						<h4>Ejecución con Docker</h4>
						<div class="row">
							<div class="col-sm-10 col-sm-offset-2">
								<a href="https://github.com/patrixd/despliegues-de-calidad" target="_blank">
									<img src="img/dockerfile.png">
								</a>
							</div>
							<div class="col-sm-4 vagrant-command">
								<pre class="html-preview-code">
									<code class="hljs bash">
docker-compose up
									</code>
								</pre>
							</div>
						</div>	
					</section>
				</section>
				<section data-state="tdd-sky">
					<section>
						<h3>Desarrollo Dirigido <br>por Tests</h3>
						<h4>TDD</h4>
						<aside class="notes">
							Una vez preparado el entorno de desarrollo ya podríamos empezar a desarrollar.
							En una metodología ágil, donde tratamos de hacer despliegues continuos, es muy importante
							tener el código bien cubierto de tests. Por ese motivo, en Badger usamos TDD.
						</aside>
					</section>
					<section>
						<h3>TDD</h3>
						<img src="img/tdd.jpg" class="tdd-img">
						<aside class="notes">
							En TDD se empieza por escribir el test, como no está implementado falla,
							a continuación se escribe el código para que pase y finalmente se refactoriza para mejorar
							su calidad.
							Permite tener más clara la funcionalidad a desarrollar,
							decidir el uso del código de forma clara y los contratos van a ser verdaderos cuando se ejecute.
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h3>Sistema de Control de Versiones</h3>
						<img src="img/vcs.png">
						<aside class="notes">
							Herramientas que registran los cambios hechos en un proyecto.
							Contienen un histórico de los cambios realizados en cada archivo. 
							Y permiten volver a un estado anterior del proyecto.
							Las versiones se almacenan en un repositorio, normalmente en el servidor.
							De esta forma varios programadores pueden trabajar en el mismo archivo a la vez. 
						</aside>
					</section>
					<section>
						<h3>Sistemas de Control de Versiones</h3>
						<img src="img/vcs-samples.png" class="vcs-samples-img">
						<aside class="notes">
							Subversion es uno de los sistemas más legendarios.
							Team Foundation Service es de microsoft.
							Git es el más extendido. Desarrollado en el 2005 por el padre del kernel de Linux, Linus Torvals.
						</aside>
					</section>
					<section>
						<h3>Plataformas de Desarrollo Colaborativo</h3>
						<img src="img/vcs-platforms.png" class="vcs-samples-img">
						<aside class="notes">
							En Badger usamos la plataforma Github para gestionar las versiones de nuestros proyectos.
							Pero hay otras como GitLab y Bitbucket. 
							Estas plataformas además de permitirnos hacer uso de GIT de forma más usable, 
							nos permiten crear Issues, Pull Requests, etc.
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h2>Integración Continua</h2>
						<aside class="notes">
							Consiste en a través de una máquina externa, descargar los cambios subidos al VCS por un miembro del equipo, compilar el proyecto y ejecutar sus tests y a partir del resultado genera un informe. Permitiendo detectar los problemas de integración de forma continua.
						</aside>
					</section>
					<section>
						<h3>Ventajas CI</h3>
						<ul>
							<li>Detección y solución de problemas de integración.</li>
							<li>Disponibilidad constante de una versión para pruebas, demos o lanzamientos.</li>
							<li>Ejecución inmediata de las pruebas unitarias.</li>
							<li>Monitorización continua de las métricas de calidad del proyecto.</li>
						</ul>
					</section>
					<section>
						<h3>Sistemas de Integración Continua</h3>
    					<span class="glyphicon glyphicon-question-sign" data-toggle="modal" data-target="#modal-ci-referencias"></span>
						<img src="img/ci.png" class="mid-img">
						<aside class="notes">
							Jenkins, Travis CI, Circle CI, Codeship...
							Nosotros usamos Codeship, pero tambien usamos Jenkins porque nos permite mayor control.
							Comparativa Travis CI, Circle CI, Codeship:
							https://strongloop.com/strongblog/node-js-travis-circle-codeship-compare/
							Lo mejor es probar distintos y elegir el que mejor se adapte a nuestro proyecto.
							Jenkins está enfocado sobre todo en Java, pero nosotros lo usamos comunicandonos con una
							máquina externa mediante ssh, esa máquina contiene el mismo entorno que el de desarrollo y
							Jenkins ejecuta un script dentro de esa máquina que se encarga de descargar el código,
							actualizar el entorno con las nuevas dependencias si es que han cambiado, y ejecutar los tests.
						</aside>
					</section>
					<section class="gallery-container">
						<h3>Nuevo proyecto Codeship</h3>
						<img class="fragment current-visible" data-fragment-index="0" src="img/codeship.jpg">
						<img class="fragment current-visible" data-fragment-index="1" src="img/codeship-step1.png">
						<p class="fragment current-visible" data-fragment-index="1">1. Seleccionamos la Plataforma del VCS</p>
						<img class="fragment current-visible" data-fragment-index="2" src="img/codeship-step2.png">
						<p class="fragment current-visible" data-fragment-index="2">2. Conectamos Codeship con la Plataforma</p>
						<img class="fragment current-visible" data-fragment-index="3" src="img/codeship-step3.png">
						<p class="fragment current-visible" data-fragment-index="3">3. Seleccionamos Codeship Basic</p>
						<img class="fragment current-visible" data-fragment-index="4" src="img/codeship-step4-1.png">
						<p class="fragment current-visible" data-fragment-index="4">4. Configuramos el Setup del Proyecto</p>
						<img class="fragment current-visible" data-fragment-index="5" src="img/codeship-step4-2.png">
						<p class="fragment current-visible" data-fragment-index="5">4. Configuramos los Tests del Proyecto</p>
						<img class="fragment current-visible" data-fragment-index="6" src="img/codeship-step5.png">
						<p class="fragment current-visible" data-fragment-index="6">5. Sistema CI listo!</p>
						<img class="invisible" src="img/codeship-step1.png">
						<aside class="notes">
							1. Crear proyecto nuevo
							2. Conectar con Github
							3. Dar permisos a la cuenta
							4. Seleccionamos Codeship Basic
							5. Configuramos el Proyecto
							6. Y ya solo quedará hacer push y ver los informes!
							Muy sencillo de usar, gratis, aplicación ideal para empezar.
							Sin embargo si en vuestra aplicación trabajan muchos desarrolladores poco a poco el hecho de que no se ejecuten en paralelo será un impedimento, y para ello hará falta pagar. Además tiene 100 builds de máximo.
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h2>Revisiones de Código</h2>
						<img src="img/codereview.png">
						<aside class="notes">
							Para desarrollar y mantener código de calidad es muy importante que el código se revise por uno o más desarrolladores, diferentes al autor. De esta forma se comprueba que se siguen los estándares de desarrollo de la organización, el código es legible, eficiente y no tiene errores visibles.

							DEJAR PARA LUEGO. DE ESTO PUEDO HABLAR CUANDO HABLE DE GITHUB TAMBIEN, PERO TIENE SENTIDO HABLAR CON INTEGRACION CONTINUA
						</aside>
					</section>
					<section class="gallery-container codereview">
						<h3>Revisiones de Código</h3>				
						<img class="fragment current-visible ci-step1" data-fragment-index="0" src="img/codereview-step1.png">				
						<img class="fragment current-visible ci-step2" data-fragment-index="1" src="img/codereview-step2.png">				
						<img class="fragment current-visible ci-step3" data-fragment-index="2" src="img/codereview-step3.png">		
						<img class="invisible" data-fragment-index="2" src="img/codereview-step3.png">	
					</section>
				</section>
				<section>
					<section>
						<h2>Despliegue continuo</h2>
						<aside class="notes">
							Extensión de la Integración Continua, 
							tiene como objetivo minimizar la cantidad de tiempo desde la 
							primera linea de código hasta que puede ser usado por usuarios
							reales en producción.
							Para poder hacerlo, el equpo cuenta con herramientas que automizan el despliegue. También se requiere tener las herramientas necesarias para abortar el despliegue, volver a un estado anterior y notificar cuando 
							el despliegue haya finalizado.

							Continuous Delivery vs Continuous Deployment
							https://puppet.com/blog/continuous-delivery-vs-continuous-deployment-what-s-diff
						</aside>
					</section>
					<section>
						<h3>Ventajas Despliegue Continuo</h3>
						<ul>
							<li>Incrementos de productos más fluidos</li>
							<li>Feedback de usuarios más temprano</li>
							<li>Proceso automatizado evitando error humano</li>
							<li>Cualquier miembro del equipo puede hacer el despliegue</li>
						</ul>
					</section>
					<section class="gallery-container">
    					<span class="glyphicon glyphicon-question-sign" data-toggle="modal" data-target="#modal-cd-referencias"></span>
						<h4>Despliegue Continuo con Codeship</h4>						
						<img class="fragment current-visible" data-fragment-index="0" src="img/heroku-new-app.png">		
						<p class="fragment current-visible" data-fragment-index="0">1. Creamos nueva aplicación en Heroku</p>
						<img class="fragment current-visible" data-fragment-index="1" src="img/ci-step1.png">
						<p class="fragment current-visible" data-fragment-index="1">2. Configuramos el Deployment en Codeship</p>
						<img class="fragment current-visible cd-step2" data-fragment-index="2" src="img/cd-step2.png">
						<p class="fragment current-visible" data-fragment-index="2">3. Configuramos</p>
						<img class="fragment current-visible cd-step3" data-fragment-index="3" src="img/cd-step3.png">
						<p class="fragment current-visible" data-fragment-index="3">3. Configuramos</p>
						<img class="invisible" src="img/cd-step2.png">
					</section>
				</section>
				<section>
					<h2>Una vez desplegada...</h2>
					<ul>
						<li>Soporte a usuarios</li>
						<li>Comunicación</li>
					</ul>
					<aside class="notes">
						Soporte a usuarios y técnico: Zendesk
						Comunicación dentro de la organización: Email y Slack
					</aside>
				</section>
			</div>
		</div>
        <div class="modal fade" id="modal-ci-referencias" tabindex="-1" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-body">
                  <h4>Referencias CI:</h4>
                  <ul>
                      	<li>
							<a href="https://jenkins.io/" target="_blank">
								Jenkins
							</a>
						</li>
                      	<li>
							<a href="https://travis-ci.org/" target="_blank">
								Travis CI
							</a>
						</li>
                      	<li>
							<a href="https://circleci.com/" target="_blank">
								Circle CI
							</a>
						</li>
                      	<li>
							<a href="https://codeship.com" target="_blank">
								Codeship
							</a>
						</li>
                  </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="modal-cd-referencias" tabindex="-1" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-body">
                  <h4>Referencias Continuous Deployment:</h4>
                  <ul>
                  	  <li>
        				<a href="https://devcenter.heroku.com/articles/django-app-configuration" target="_blank">How to create a Django app for Heroku</a>
        			  </li>
        		  </ul>
              </div>
            </div>
          </div>
        </div>


		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	</body>
</html>
